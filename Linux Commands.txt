Basic commands that are required for the DevOps Engineer. 

What is a linux distribution? 

A linux distribution is a installable operating system built from a Linux kernel and the supporting user programs and libraries that are needed to assemble a complete system. 

 

An operating system is a collection of software components between a computer and a user to get things done.  

 

It came from the UNIX.  

 

Kernel of an operating system assists interprocess communication. 

 

Linux Distributions: 

GNU project allow to download, modify and redistribute the code.  

A distribution of linux has its own combination of utilities,software and a different build of the linux kernel. There are different distributions and each has its own goals examples:redhat;debian. 

 

Components of Linux Distribution: 

LINUX kernel 

Core Utilities Eg:  Bash shell, Network Utilities and File System Tools 

Supplemental Software Eg: X11 windows system, games 

System Services Eg: Networking services, User logging, Security 

Software Management Eg: 

 

Common Linux Distributions: 

Slackware 

Debian 

Redhat Enterprises 

SUSE 

Ubuntu 

Fedora 

CentOS 

openSUSE 

 

Bash Commands: 

 

uname –a                    :  it shows System and Kernel  

head –n1 /etc/issue:  show distribution of the current system. 

mount                          :  show the mounted files 

date                               :  show the system date 

uptime                          :  show the up time of the system 

whoami                        :  show your username 

man                                : show manual for the command 

useradd                         : to create a new user 

 

Directory Operations: 

 

pwd                                : show the current directory 

mkdir dir                       : Make directory dir 

cd dir                              : change directory to dir 

cd ..                                 : Go up a directory 

ls                                      : List files 

rm -r mydir                  : remove the directory  

cd -                                : Go back to the previous directory 

cd ~                               : To get back to the Home directory 

 

ls options: 

 

-a                                     : show all files(hidden files as well) 

-R                                     : Recursive list 

-r                                      : reverse order 

-t                                      : sort by last modified 

-S                                     : sort by the file size 

-l                                      : long listing format 

-1                                    : one file per line 

-m                                   : comma separated output 

-Q                                    : Quoted output 

 

Bash variables: 

 

env                                 :  show the environment variables 

echo $NAME              :  show the output value of the $NAME variable 

export NAME = value: set Name to value 

$PATH                           :  Executable search path (doubt) 

$HOME                        :  Home Directory 

$SHELL                         :  Current Shell (doubt)  

 

Bash Shortcuts: 

 

CTRL – c                       :  Stop the current command 

CTRL – z                       :  Sleep program 

CTRL – a                       : Go to start of the line 

CTRL – e                       : Go to the end of the line 

CTRL – u                       : Cut from start of line 

CTRL – k                       : Cut to the end of the line 

CTRL –  r                       : Search history 

!!                                    : Repeat the last command 

!abc                               : Run last command starting with abc 

!abc:p                           : print last command starting with abc 

!$                                   : Last argument of the previous command 

ALT-                               : Last argument of the previous command (Doubt) 

!*                                   : all arguments of the previous command 

^abc^123                   : Run last command, replacing abc with 123. 

 

File Operations: 

 

touch file1                : create file1 

cat file1 file2            : concatenate files and output 

less file1                     : view and paginate file1  

file file1                      : Get type of file1 

cp file1 file2              : Copy file1 to file2 

mv file1 file2            : move file1 to file2 

rm file1                      :  remove file1.c 

head file1                 :  show first ten lines of file1 

tail     file1                 :  show last ten lines of file1 

tail –F file1               : output last lines of file1 as it changes. 

 

Command History and Command Completion: 

Echo $HISTFILESIZE : prints the history file size 

history                       : to print all the commands used in the command line (!number (number in the history) will execute the file) 

 

Difference between a Login Shell and Non Login Shell: 

Shell Environments relies on Configuration files that dictates how the shell is setup. These configuration files are shell scripts and executed when they are called from bash. 

In Login shell: the first file that is called is /etc/profile along with any extra configuration files  that exists in /etc/profile.d. the purpose of /etc/profile is to setup all the environment variables. 

Then the order branches out, and the first file that is found is used, all others are ignored even if they exists. ./bash_profile, ./bash_login, ./profile. Next .bashrc is called, followed by /etc/bashrc/ 

 

User -> /etc/profile -> ~/.bash_profile -> ~/.bashrc -> /etc/bashrc -> User Shell 

 

Shell variables:  

SET 

set command you can get the alphabetical order of environmental variables. 

ENV 

Prints all the environmental variables 

Create a new variable 

Eg: TEST="Testing", echo $TEST 

PATH = $PATH/:opt 

 Sets the new path to the environment variable path temporarily 

 

Globbing: Use globbing to effectively search and expand files and test in Linux. 

 

* 

Matches zero or more characters (Example: ls *.txt -> it displays all files with .txt extension 

? 

Matches any single character 

[abc] 

Matches any one character in the list , case sensitive 

[^abc] 

Matches any one character except those in the list case sensitive 

[0-9] 

Matches the range of numbers 

Locate 

Searches a local database of files and folders looking for items to match the search criteria 

Find  

Searches the filesystem for files to match the search criteria 

whereis 

Locates binary, source and/or manual pages for a command 

 

 Linux 6 stages of Boot Process  

 

https://www.thegeekstuff.com/2011/02/linux-boot-process/ 

 

BIOS – Basic Input/Output System executes MBR 

MBR – Master Boot Record executes GRUB 

GRUB – Grand  Unified Bootloader executes Kernel 

Kernel – It executes /sbin/init 

Init – Init executes Run Level Programs 

RunLevel – Run Level Programs are executed from /etc/rc.d/rc*.d/ 

 

BareMetal is a computer system without a base operating system or installed applications. It is computer Hardware assembly, structure or components installed with either the firmware or basic input/output system software utility or no software at all.  

 

BIOS : 

 

BIOS stands for Basic Input/output System. 

Performs some Integrity Checks. 

Searches, loads and executes the boot loader program 

It looks for Boot loader program in optical disk, hard disk, floppy. You can press F2 or F12 to change the boot sequence. 

Once the boot loader program is detected and loaded, BIOS gives the control to it. 

So in simple terms once BIOS will load and execute MBR. 

 

MBR: 

 

MBR stands for Master Boot Record. 

It is located in the first sector of the bootable disk. Typically /dev/hda or /dev/sda 

MBR is less than 512 bytes in size. This has three components 1) primary boot loader info in 446 bytes   2)Partition table info in 64 bytes 3) mbr validation check in last 2 bytes 

It contains information about GRUB(LINUX Loader) 

MBR Loads and Executes GRUB. 

 

GRUB: 

 

GRUB stands for Grand Unified Bootloader. 

If you have multiple kernel images installed on your system, you can choose which one to be executed. 

GRUB has the knowledge of the file systems. 

GRUB configuration file is /boot/grub/grub.conf 

GRUB will load and executes the initrd and kernel images. 

 

Kernel: 

 

Mounts the root file system as specified in the root= in grub.conf file 

Kernel executes the /sbin/init program 

Since init was the 1st program it will have the process id of 1. We can do ps –ef | grep init to check the pid. 

Initrd stands for initial ram disk. 

 

Init 

 

Looks at the /etc/inittab file to decide the linux run level 

Linux run levels 

0-halt 

1- single user 

2- multi user mode without NFS 

3 – full multiuser mode 

4 – unused 

5 – x11 

6 – reboot 

 

Runlevel Programs: 

When the Linux system is booting up, you might see various services getting started. For example, it might say “starting sendmail …. OK”. Those are the runlevel programs, executed from the run level directory as defined by your run level. 

Depending on your default init level setting, the system will execute the programs from one of the following directories. 

Run level 0 – /etc/rc.d/rc0.d/ 

Run level 1 – /etc/rc.d/rc1.d/ 

Run level 2 – /etc/rc.d/rc2.d/ 

Run level 3 – /etc/rc.d/rc3.d/ 

Run level 4 – /etc/rc.d/rc4.d/ 

Run level 5 – /etc/rc.d/rc5.d/ 

Run level 6 – /etc/rc.d/rc6.d/ 

Please note that there are also symbolic links available for these directory under /etc directly. So, /etc/rc0.d is linked to /etc/rc.d/rc0.d. 

Under the /etc/rc.d/rc*.d/ directories, you would see programs that start with S and K. 

Programs starts with S are used during startup. S for startup. 

Programs starts with K are used during shutdown. K for kill. 

There are numbers right next to S and K in the program names. Those are the sequence number in which the programs should be started or killed. 

For example, S12syslog is to start the syslog deamon, which has the sequence number of 12. S80sendmail is to start the sendmail daemon, which has the sequence number of 80. So, syslog program will be started before sendmail. 

 

Desktop Applications: 

 

GIMP is a linux distribution application which is similar to Photoshop in windows. 

Ubuntu is set GNome desktop environment which is switched from unity. 

 

Server Applications: 

What is a Server? Server is a computer which serves data itself to the client systems. 

 

Port Number 

Protocol 

22 

SSH 

23 

TELNET 

25 

SMTP 

53  

DNS 

67 

BOOTP 

80 

HTTP 

443 

HTTPS 

 

File Server: NFS(Network File Server), Database Server, CUPS 

 

Development Languages:  

Compiler Languages 

Interpreter Languages 

Assembly Languages 

C,C++ 

Python,PHP,Perl,Java 

AssemblyC 

Compiler takes the source code and then convert it into binary format which the machine can understand. Each Operating system has different way of reading 1's and 0's. For example: the kernel of the windows operating system will look for the order of binary information expects specific format. The kernel of the Linux operating system will look in another order of the binary information. The compiler understands the way in that operating system expects the 1's and 0's and it ensures the following program follow that rules. 

Interpreter takes the source code and directly communicate with operating system. But has to return to the Interpreter as to execute the next set of instructions. 

Processor can read the instructions directly. So these applications tend to work faster and efficient. 

 

Package Management: 

A method for installing software on a Linux system. 

What Constitutes a Package? 

Dependency Information: What software is required for whatever is in the package to work? 

Version Information:  

Architecture Information: What type of CPU is this package made for? 

Installing From Source: Slack,Gentoo 

Pre-built Packages: .rpm(Redhat Package Manager), .deb(debian package manager) 

 

YUM package Management: 

Yum handles dependencies for us. 

 It came from distribution of Linux that was based of a Redhat called Yellow Dog Linux. This distribution has more computational capabilties which is used by sony playstation.  

YUM: Yellow Dog Linux, Modified. 

Commands: yum install packagename 

yum repolist(shows all the repositories), cd /etc/yum.repo.d, less CentOS-Base (will go into this repo), yum cleanall(to make sure you are receiving the current updates), yum update(will look for the updates in the repositories and notify us if there is any package need to be updated). 

 

RPM package Management: rpm –i packagename 

To uninstall package : rpm –u packagename 

To query about a pacakge : rpm –q packagename 

To erase a package : rpm –e packagename 

 

APT Package Management(Debian package management): apt install packagename 

Remove the package: apt remove packagename 

Remove the files attached to it: apt remove --purge packagename 

Extrafiles to remove: apt autoremove 

 

dpkg package Management: dpkg --get –selections: displays all packages that are installed. 

dpkg -deb –i = queries a .deb package.  dpkg –i installs a .deb file. Dpkg –r removes a debian package, dpkg –l lists all debian packages. Dpkg –P packagename(to purge a package) 

 

Understanding OpenSource  Software and Licensing: 

Software is a type of intellectual property 

Proprietary software models: Commercial, Shareware, Freeware.  

Open source software Licensing: Free Software Foundation(FSF), Open Source Initiative(OSI) 

FSF : GNU GPL, GPL has two versions: GPL2, GPL3, LGPL(Lesser GPL), Free Documentation License(FDL). 

Opensource Provides greater security, higher reliability, prevention of vendor lock-in, lower cost. 

OSI approved Licenses: GPL/LGPL, Apache License, BSD, FreeBSD, MPL 2.0, MIT License. 

Definition of Open Source Software: Free Distribution, Source Code, Derived Works, Integrity of Author's Code. 

Creative Commons Licensing: Attribution, Attribution-shareAlike, Attribution-NoDerivs,Attribution-Non Commercial, Attribution-NonCommercial-ShareAlike. 

 

Using Directories and Listing Files: 

The Linux File System: Standard Layout of Linux File system:File System Hierarcy Standard 

Relative path:a relative path starts from some given working directory. 

Absolute Path:An absolute or full path points to the same location in a file system. 

 

To create a backup : cp –R oldfolder newfolderbackup 

 

Archives and Compressing files: 

Tar: takes bunch of files and compress it to a single file.(manipulate archieve files) 

Tar switches/options 

function 

-c 

Create a new archive 

-z 

Pass the archive through the gzip compression 

-f   

Filename of archive to create 

unzip 

Unzip a zip archive 

gzip 

Create a gzip archive 

gunzip 

Unzip a gzip archive 

-x 

Extract an archive 

-t 

To list the contents of the archive 

 

Hardware: 

Cat /proc/cpuinfo 

To know the cpu information 

Free  

To know how ram is used 

dmidecode 

To read the motherboard info as well as bios 

df –h  

To know the free space of the harddrive in human readable format 

lsblk  

To view all block devices 

-m  

Show output in megabytes 

-g  

Show output in GB 

 

   

 Networking in Linux: 

Ifconfig, ip addr show 

To view the IP address 

Ip route show, route, netstat –r 

To view your default gateway 

Host google.com 

DNS hostname resolution 

Cat /etc/resolv.conf 

DNS server that our system contacts 

host <domainname> 

IP address responsible for the domain 

Ping c –3 <domainname> 

Troubleshooting a network connection 

Cat /etc/hosts 

Local name resolution file 

 

Linux user accounts: 

Who 

To see who is logged into the system 

w 

To see who is logged into the system in more detail 

id 

View user and group id's of a specified user, command by itself shows ID of the current user 

/etc/passwd  

Primary configuration files for all users on a system 

/etc/group  

Primary configuration files for groups on a system 

 

Adding Users: 

groupadd 

To add the new group to the system 

useradd 

To add the new user to the system 

G  

To add the user to the particular group id 

g 

It will create a the group id for user 

-m  

To create a new directory for user 

-c  

For comments 

deluser 

To delete a user 

groupdel 

To delete a group 

sudo useradd –G 1004 –m –c *Sidduaccount* siddu 

Cat /etc/shadow 

Primary configuration file for all encrypted passwords for users on the system 

/etc/skel 

Contents in this file are copied to home directories of newly created users 

last  

To know who all logged in to the system 

Cat /etc/group 

To display the group id for all groups 

Files and Directory permissions: 

chown 

Change the ownership of the file 

chmod 

Change the mode of the file eg: chmod –R o-r Document/* 

chgrp 

Change the group of the file 

Symbolic Links: 

ln –s /home/siddu/siddu.txt.lnk 

Ln  - create link to the files or directories 

Ln –s  create a symbolic link 

Unlink – remove a link from a file or directory 

 

/var/tmp 

Contains files and application write to /var/tmp that do not get deleted on reboot 

/tmp  

Contains temporary files that do not get deleted on reboot 

Sticky bit 

A permission that only allow users that create their own files and folders can delete their own files but not others Example: chmod o+t directoryname or chmod 1777 directoryname 

    